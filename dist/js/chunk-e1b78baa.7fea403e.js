(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1b78baa"],{"12de":function(e,t,a){"use strict";var n=a("9efd"),i="/api/admin/themes",r={listAll:function(){return Object(n["a"])({url:"".concat(i),method:"get"})},listFilesActivated:function(){return Object(n["a"])({url:"".concat(i,"/activation/files"),method:"get"})},listFiles:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/files"),method:"get"})},customSheetTpls:function(){return Object(n["a"])({url:"".concat(i,"/activation/template/custom/sheet"),method:"get"})},customPostTpls:function(){return Object(n["a"])({url:"".concat(i,"/activation/template/custom/post"),method:"get"})},active:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/activation"),method:"post"})},getActivatedTheme:function(){return Object(n["a"])({url:"".concat(i,"/activation"),method:"get"})},update:function(e){return Object(n["a"])({url:"".concat(i,"/fetching/").concat(e),timeout:6e4,method:"put"})},delete:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e),method:"delete"})},fetchConfiguration:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/configurations"),method:"get"})},fetchSettings:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/settings"),method:"get"})},saveSettings:function(e,t){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/settings"),data:t,method:"post"})},getProperty:function(e){return Object(n["a"])({url:"".concat(i,"/").concat(e),method:"get"})},upload:function(e,t,a){return Object(n["a"])({url:"".concat(i,"/upload"),timeout:864e5,data:e,onUploadProgress:t,cancelToken:a,method:"post"})},updateByUpload:function(e,t,a,r){return Object(n["a"])({url:"".concat(i,"/upload/").concat(r),timeout:864e5,data:e,onUploadProgress:t,cancelToken:a,method:"put"})},fetching:function(e){return Object(n["a"])({url:"".concat(i,"/fetching"),timeout:6e4,params:{uri:e},method:"post"})},getContent:function(e){return Object(n["a"])({url:"".concat(i,"/files/content"),params:{path:e},method:"get"})}};r.getContent=function(e,t){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/files/content"),params:{path:t},method:"get"})},r.saveContent=function(e,t){return Object(n["a"])({url:"".concat(i,"/files/content"),data:{path:e,content:t},method:"put"})},r.saveContent=function(e,t,a){return Object(n["a"])({url:"".concat(i,"/").concat(e,"/files/content"),data:{path:t,content:a},method:"put"})},r.reload=function(){return Object(n["a"])({url:"".concat(i,"/reload"),method:"post"})},r.exists=function(e){return Object(n["a"])({url:"".concat(i,"/activation/template/exists"),method:"get",params:{template:e}})},t["a"]=r},"241a":function(e,t,a){"use strict";var n=a("a41b"),i=a.n(n);i.a},3993:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-drawer",{attrs:{title:e.title,width:e.isMobile()?"100%":e.drawerWidth,closable:"",visible:e.visible,destroyOnClose:""},on:{close:e.onClose}},[a("a-row",{attrs:{type:"flex",align:"middle"}},[a("a-input-search",{attrs:{placeholder:"搜索附件",enterButton:""},on:{search:function(t){return e.handleQuery()}},model:{value:e.queryParam.keyword,callback:function(t){e.$set(e.queryParam,"keyword",t)},expression:"queryParam.keyword"}})],1),a("a-divider"),a("a-row",{attrs:{type:"flex",align:"middle"}},[a("a-skeleton",{attrs:{active:"",loading:e.skeletonLoading,paragraph:{rows:18}}},[a("a-col",{attrs:{span:24}},[0==e.attachments.length?a("a-empty"):e._l(e.attachments,(function(t,n){return a("div",{key:n,staticClass:"attach-item",on:{click:function(a){return e.handleSelectAttachment(t)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.handleJudgeMediaType(t),expression:"!handleJudgeMediaType(item)"}]},[e._v("当前格式不支持预览")]),a("img",{directives:[{name:"show",rawName:"v-show",value:e.handleJudgeMediaType(t),expression:"handleJudgeMediaType(item)"}],attrs:{src:t.thumbPath,loading:"lazy"}})])}))],2)],1)],1),a("a-divider"),a("div",{staticClass:"page-wrapper"},[a("a-pagination",{attrs:{current:e.pagination.page,total:e.pagination.total,defaultPageSize:e.pagination.size},on:{change:e.handlePaginationChange}})],1),a("a-divider",{staticClass:"divider-transparent"}),a("div",{staticClass:"bottom-control"},[e.isChooseAvatar?a("a-button",{staticStyle:{marginRight:"8px"},attrs:{type:"dashed"},on:{click:e.handleSelectGravatar}},[e._v("使用 Gravatar")]):e._e(),a("a-button",{attrs:{type:"primary"},on:{click:e.handleShowUploadModal}},[e._v("上传附件")])],1)],1),a("a-modal",{attrs:{title:"上传附件",footer:null,afterClose:e.onUploadClose,destroyOnClose:""},model:{value:e.uploadVisible,callback:function(t){e.uploadVisible=t},expression:"uploadVisible"}},[a("FilePondUpload",{ref:"upload",attrs:{uploadHandler:e.uploadHandler}})],1)],1)},i=[],r=(a("9a33"),a("c904"),a("163d"),a("ac0d")),o=a("a796"),s={name:"AttachmentSelectDrawer",mixins:[r["a"],r["b"]],model:{prop:"visible",event:"close"},props:{visible:{type:Boolean,required:!1,default:!1},drawerWidth:{type:Number,required:!1,default:480},title:{type:String,required:!1,default:"选择附件"},isChooseAvatar:{type:Boolean,required:!1,default:!1}},data:function(){return{uploadVisible:!1,skeletonLoading:!0,pagination:{page:1,size:12,sort:null,total:1},queryParam:{page:0,size:12,sort:null,keyword:null},attachments:[],uploadHandler:o["a"].upload}},watch:{visible:function(e,t){e&&(this.loadSkeleton(),this.loadAttachments())}},methods:{loadSkeleton:function(){var e=this;this.skeletonLoading=!0,setTimeout((function(){e.skeletonLoading=!1}),500)},handleShowUploadModal:function(){this.uploadVisible=!0},loadAttachments:function(){var e=this;this.queryParam.page=this.pagination.page-1,this.queryParam.size=this.pagination.size,this.queryParam.sort=this.pagination.sort,o["a"].query(this.queryParam).then((function(t){e.attachments=t.data.data.content,e.pagination.total=t.data.data.total}))},handleQuery:function(){this.handlePaginationChange(1,this.pagination.size)},handleSelectAttachment:function(e){this.$emit("listenToSelect",e)},handleSelectGravatar:function(){this.$emit("listenToSelectGravatar")},handlePaginationChange:function(e,t){this.pagination.page=e,this.pagination.size=t,this.loadAttachments()},onUploadClose:function(){this.$refs.upload.handleClearFileList(),this.loadSkeleton(),this.handlePaginationChange(1,this.pagination.size)},handleJudgeMediaType:function(e){var t=e.mediaType;if(t){var a=t.split("/")[0];return"image"===a}return!1},onClose:function(){this.$emit("close",!1)}}},l=s,c=a("9ca4"),u=Object(c["a"])(l,n,i,!1,null,null,null);t["a"]=u.exports},4167:function(e,t,a){},"79e7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:12,type:"flex",align:"middle"}},[a("a-col",{attrs:{span:24}},[a("a-list",{attrs:{grid:{gutter:12,xs:1,sm:1,md:2,lg:4,xl:4,xxl:4},dataSource:e.sortedThemes,loading:e.themeLoading},scopedSlots:e._u([{key:"renderItem",fn:function(t,n){return a("a-list-item",{key:n},[a("a-card",{attrs:{hoverable:"",title:t.name,bodyStyle:{padding:0}}},[a("div",{staticClass:"theme-thumb"},[a("img",{attrs:{alt:t.name,src:t.screenshots||"/images/placeholder.jpg",loading:"lazy"}})]),a("template",{staticClass:"ant-card-actions",slot:"actions"},[t.activated?a("div",[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"unlock",theme:"twoTone"}}),e._v("已启用 ")],1):a("div",{on:{click:function(a){return e.handleActivateClick(t)}}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"lock"}}),e._v("启用 ")],1),a("div",{on:{click:function(a){return e.handleShowThemeSetting(t)}}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"setting"}}),e._v("设置 ")],1),a("a-dropdown",{attrs:{placement:"topCenter",trigger:["click"]}},[a("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"ellipsis"}}),e._v("更多 ")],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:1,attrs:{disabled:t.activated},on:{click:function(a){return e.handleConfirmDelete(t)}}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"delete"}}),e._v("删除 ")],1),t.repo?a("a-menu-item",{key:2,on:{click:function(a){return e.handleConfirmUpdate(t)}}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"cloud"}}),e._v("在线更新 ")],1):e._e(),a("a-menu-item",{key:3,on:{click:function(a){return e.handleShowUpdateNewThemeModal(t)}}},[a("a-icon",{staticStyle:{"margin-right":"3px"},attrs:{type:"file"}}),e._v("从主题包更新 ")],1)],1)],1)],1)],2)],1)}}])})],1)],1),e.themeSettingVisible?a("ThemeSetting",{attrs:{theme:e.selectedTheme},on:{close:e.onThemeSettingsClose}}):e._e(),a("div",{staticClass:"upload-button"},[a("a-dropdown",{attrs:{placement:"topLeft",trigger:["click"]}},[a("a-button",{attrs:{type:"primary",shape:"circle",icon:"plus",size:"large"}}),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a",{attrs:{rel:"noopener noreferrer",href:"javascript:void(0);"},on:{click:function(t){e.uploadThemeVisible=!0}}},[e._v("安装主题")])]),a("a-menu-item",[a("a",{attrs:{rel:"noopener noreferrer",href:"javascript:void(0);"},on:{click:e.handleReload}},[e._v("刷新列表")])])],1)],1)],1),a("a-modal",{attrs:{title:"安装主题",destroyOnClose:"",footer:null,bodyStyle:{padding:"0 24px 24px"},afterClose:e.onThemeUploadClose},model:{value:e.uploadThemeVisible,callback:function(t){e.uploadThemeVisible=t},expression:"uploadThemeVisible"}},[a("div",{staticClass:"custom-tab-wrapper"},[a("a-tabs",[a("a-tab-pane",{key:"1",attrs:{tab:"本地上传"}},[a("FilePondUpload",{ref:"upload",attrs:{name:"file",accept:"application/zip",label:"点击选择主题包或将主题包拖拽到此处<br>仅支持 ZIP 格式的文件",uploadHandler:e.uploadHandler},on:{success:e.handleUploadSuccess}}),a("a-alert",{attrs:{type:"info",closable:""}},[a("template",{slot:"message"},[e._v(" 更多主题请访问： "),a("a",{attrs:{target:"_blank",href:"https://halo.run/p/themes"}},[e._v("https://halo.run/p/themes")])])],2)],1),a("a-tab-pane",{key:"2",attrs:{tab:"远程拉取"}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"远程地址："}},[a("a-input",{model:{value:e.fetchingUrl,callback:function(t){e.fetchingUrl=t},expression:"fetchingUrl"}})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary",loading:e.fetchButtonLoading},on:{click:e.handleFetching}},[e._v("下载")])],1)],1),a("a-alert",{attrs:{type:"info",closable:""}},[a("template",{slot:"message"},[e._v(" 远程地址即主题仓库地址，使用这种方式安装的一般为开发版本，请谨慎使用。 "),a("br"),e._v("更多主题请访问： "),a("a",{attrs:{target:"_blank",href:"https://halo.run/p/themes"}},[e._v("https://halo.run/p/themes")])])],2)],1)],1)],1)]),a("a-modal",{attrs:{title:"更新主题",footer:null,destroyOnClose:"",afterClose:e.onThemeUploadClose},model:{value:e.uploadNewThemeVisible,callback:function(t){e.uploadNewThemeVisible=t},expression:"uploadNewThemeVisible"}},[a("FilePondUpload",{ref:"updateByupload",attrs:{name:"file",accept:"application/zip",label:"点击选择主题更新包或将主题更新包拖拽到此处<br>仅支持 ZIP 格式的文件",uploadHandler:e.updateByUploadHandler,filed:e.prepareUpdateTheme.id,multiple:!1},on:{success:e.handleUploadSuccess}})],1)],1)},i=[],r=(a("cc57"),a("c904"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.selectedTheme.name+" 主题设置",width:"100%",placement:"right",closable:"",destroyOnClose:"",visible:e.visible},on:{close:e.onClose}},[a("a-row",{attrs:{gutter:12,type:"flex"}},[e.viewMode?e._e():a("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[a("a-skeleton",{attrs:{active:"",loading:e.settingLoading,paragraph:{rows:10}}},[a("a-card",{attrs:{bordered:!1}},[a("img",{attrs:{slot:"cover",alt:e.selectedTheme.name,src:e.selectedTheme.screenshots},slot:"cover"}),a("a-card-meta",{attrs:{description:e.selectedTheme.description}},[a("template",{slot:"title"},[a("a",{attrs:{href:e.selectedTheme.author.website,target:"_blank"}},[e._v(e._s(e.selectedTheme.author.name))])]),e.selectedTheme.logo?a("a-avatar",{attrs:{slot:"avatar",src:e.selectedTheme.logo,size:"large"},slot:"avatar"}):a("a-avatar",{attrs:{slot:"avatar",size:"large"},slot:"avatar"},[e._v(e._s(e.selectedTheme.author.name))])],2)],1)],1)],1),a("a-col",{staticStyle:{"padding-bottom":"50px"},attrs:{xl:e.formColValue,lg:e.formColValue,md:e.formColValue,sm:24,xs:24}},[a("a-skeleton",{attrs:{active:"",loading:e.settingLoading,paragraph:{rows:20}}},[a("div",{staticClass:"card-container"},[e.themeConfiguration.length>0?a("a-tabs",{attrs:{type:"card",defaultActiveKey:"0"}},e._l(e.themeConfiguration,(function(t,n){return a("a-tab-pane",{key:n.toString(),attrs:{tab:t.label}},[a("a-form",{attrs:{layout:"vertical",wrapperCol:e.wrapperCol}},e._l(t.items,(function(t,n){return a("a-form-item",{key:n,attrs:{label:t.label+"："}},[t.description&&""!=t.description?a("p",{attrs:{slot:"help"},domProps:{innerHTML:e._s(t.description)},slot:"help"}):e._e(),"TEXT"==t.type?a("a-input",{attrs:{defaultValue:t.defaultValue,placeholder:t.placeholder},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}}):"TEXTAREA"==t.type?a("a-input",{attrs:{type:"textarea",autoSize:{minRows:5},placeholder:t.placeholder},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}}):"RADIO"==t.type?a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["radio-group"],expression:"['radio-group']"}],attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}},e._l(t.options,(function(t,n){return a("a-radio",{key:n,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1):"SELECT"==t.type?a("a-select",{attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}},e._l(t.options,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1):"COLOR"==t.type?a("verte",{staticStyle:{display:"inline-block",height:"24px"},attrs:{picker:"square",model:"hex",defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}}):"ATTACHMENT"==t.type?a("a-input",{attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}},[a("a",{attrs:{slot:"addonAfter",href:"javascript:void(0);"},on:{click:function(a){return e.handleShowSelectAttachment(t.name)}},slot:"addonAfter"},[a("a-icon",{attrs:{type:"picture"}})],1)]):"NUMBER"==t.type?a("a-input-number",{staticStyle:{width:"100%"},attrs:{defaultValue:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}}):"SWITCH"==t.type?a("a-switch",{attrs:{defaultChecked:t.defaultValue},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}}):a("a-input",{attrs:{defaultValue:t.defaultValue,placeholder:t.placeholder},model:{value:e.themeSettings[t.name],callback:function(a){e.$set(e.themeSettings,t.name,a)},expression:"themeSettings[item.name]"}})],1)})),1)],1)})),1):a("a-alert",{attrs:{message:"当前主题暂无设置选项",banner:""}})],1)])],1),e.viewMode?a("a-col",{staticStyle:{"padding-bottom":"50px"},attrs:{xl:20,lg:20,md:20,sm:24,xs:24}},[a("a-card",{attrs:{bordered:!0,bodyStyle:{padding:0}}},[a("iframe",{attrs:{id:"themeViewIframe",title:"主题预览",frameborder:"0",scrolling:"auto",border:"0",src:e.options.blog_url,width:"100%",height:e.clientHeight-165}})])],1):e._e()],1),a("AttachmentSelectDrawer",{attrs:{title:"选择附件"},on:{listenToSelect:e.handleSelectAttachment},model:{value:e.attachmentDrawerVisible,callback:function(t){e.attachmentDrawerVisible=t},expression:"attachmentDrawerVisible"}}),e.themeConfiguration.length>0?a("footer-tool-bar",{style:{width:"100%"}},[!this.isMobile()&&e.theme.activated&&e.viewMode?a("a-button",{staticStyle:{marginRight:"8px"},attrs:{type:"primary",ghost:""},on:{click:e.toggleViewMode}},[e._v("普通模式")]):this.isMobile()||!e.theme.activated||e.viewMode?e._e():a("a-button",{staticStyle:{marginRight:"8px"},attrs:{type:"dashed"},on:{click:e.toggleViewMode}},[e._v("预览模式")]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveSettings}},[e._v("保存")])],1):e._e()],1)}),o=[],s=(a("5ab2"),a("6d57"),a("e10e"),a("9bef")),l=a("ac0d"),c=a("9f3a"),u=a("3993"),d=a("5a70");
/**
    * Verte v0.0.12
    * (c) 2019 Baianat
    * @license MIT
    */
/**
  * color-fns v0.0.10
  * (c) 2019 Baianat
  * @license MIT
  */
function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,a){return t&&m(e.prototype,t),a&&m(e,a),e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?y(e):t}function x(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=v(e),null===e)break;return e}function S(e,t,a){return S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=x(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(a):i.value}},S(e,t,a||e)}function w(e){return"object"===h(e)&&e.model?e.model:("#"!==e.slice(0,1)||4!==e.length&&7!==e.length)&&("#"!==e.slice(0,1)||6!==e.length&&9!==e.length)?"RGBA"===e.slice(0,4).toUpperCase()||"RGB"===e.slice(0,3).toUpperCase()?"rgb":("HSLA"===e.slice(0,4).toUpperCase()||"HSL"===e.slice(0,3).toUpperCase())&&"hsl":"hex"}function k(e){return isNaN(parseInt(e,16))?0:parseInt(e,16)}function _(e,t){return function(a){return a>=e&&a<=t}}function T(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return Number((e*(1-a)+t*a).toFixed(2))}function M(e){return!(void 0===e||isNaN(e)||e<0||e>1)}var V=function(){function e(t){var a=this;p(this,e),this.invalid=!this.validate(t),this.invalid||Object.keys(t).forEach((function(e){a[e]=t[e]})),this.init()}return f(e,[{key:"init",value:function(){}},{key:"validate",value:function(e){return!!e&&"object"===h(e)}}]),e}(),L=function(e){function t(){return p(this,t),C(this,v(t).apply(this,arguments))}return g(t,e),f(t,[{key:"validate",value:function(e){if(!S(v(t.prototype),"validate",this).call(this,e))return!1;var a=_(0,255);return a(e.red)&&a(e.green)&&a(e.blue)}},{key:"init",value:function(){this.model="rgb",this.alpha=M(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":_(0,.999)(this.alpha)?"rgba(".concat(this.red,",").concat(this.green,",").concat(this.blue,",").concat(this.alpha,")"):"rgb(".concat(this.red,",").concat(this.green,",").concat(this.blue,")")}}]),t}(V),P=function(e){function t(){return p(this,t),C(this,v(t).apply(this,arguments))}return g(t,e),f(t,[{key:"validate",value:function(e){if(!S(v(t.prototype),"validate",this).call(this,e))return!1;var a=_(0,100);return _(0,360)(e.hue)&&a(e.lum)&&a(e.sat)}},{key:"init",value:function(){this.model="hsl",this.alpha=M(this.alpha)?this.alpha:1}},{key:"toString",value:function(){return this.invalid?"Invalid Color":_(0,.999)(this.alpha)?"hsla(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%,").concat(this.alpha,")"):"hsl(".concat(this.hue,",").concat(this.sat,"%,").concat(this.lum,"%)")}}]),t}(V),j=function(e){function t(){return p(this,t),C(this,v(t).apply(this,arguments))}return g(t,e),f(t,[{key:"validate",value:function(e){return!!S(v(t.prototype),"validate",this).call(this,e)&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#".concat(e.red).concat(e.green).concat(e.blue))}},{key:"init",value:function(){this.model="hex",this.alpha=void 0!==this.alpha?this.alpha:"ff"}},{key:"toString",value:function(){return this.invalid?"Invalid Color":_(0,.999)(k(this.alpha)/255)?"#".concat(this.red).concat(this.green).concat(this.blue).concat(this.alpha):"#".concat(this.red).concat(this.green).concat(this.blue)}}]),t}(V),A=Object.freeze({Color:V,RgbColor:L,HslColor:P,HexColor:j});function E(e){if("object"===h(e))return e;var t=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new L:new L({red:Number(t[1]),green:Number(t[2]),blue:Number(t[3]),alpha:Number(t[4])})}function U(e){var t=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])*$/i;return 5!==e.length&&4!==e.length||!t.test(e)||(e=e.replace(t,(function(e,t,a,n,i){return"#".concat(t).concat(t).concat(a).concat(a).concat(n).concat(n).concat(i?"".concat(i).concat(i):"")}))),e}function $(e){if("object"===h(e))return e;var t=U(e),a=t.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})*/i);return!a||a.length<4?new j:new j({hex:t,red:a[1],green:a[2],blue:a[3],alpha:a[4]})}function N(e){if("object"===h(e))return e;var t=e.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,*\s*(\d*(?:\.\d+)*)*\)/i);return!t||t.length<4?new P:new P({hue:Number(t[1]),sat:Number(t[2]),lum:Number(t[3]),alpha:Number(t[4])})}function H(e){var t=w(e);return"rgb"===t?!E(e).invalid:"hex"===t?!$(e).invalid:"hsl"===t&&!N(e).invalid}function R(e){return e=Math.floor(e),isNaN(e)?"00":("0"+e.toString(16)).slice(-2)}function I(e){if(!e)return new j;e=E(e);var t=[R(e.red),R(e.green),R(e.blue),e.alpha?R(255*e.alpha):null],a=t[0],n=t[1],i=t[2],r=t[3];return new j({red:a,green:n,blue:i,alpha:r||"ff"})}function B(e){if(!e)return new P;e=E(e);var t=[e.red/255,e.green/255,e.blue/255,e.alpha],a=t[0],n=t[1],i=t[2],r=t[3],o=0,s=0,l=0,c=Math.min(a,n,i),u=Math.max(a,n,i);return l=(c+u)/2,c!==u&&(s=l>.5?(u-c)/(2-u-c):(u-c)/(u+c)),a>=u&&c!==u&&(o=(n-i)/(u-c)*60),n>=u&&c!==u&&(o=60*(2+(i-a)/(u-c))),i>=u&&c!==u&&(o=60*(4+(a-n)/(u-c))),o=o<0?Math.floor(o+360):Math.floor(o),s=Math.floor(100*s),l=Math.floor(100*l),new P({hue:o,sat:s,lum:l,alpha:r})}function q(e){if(!e)return new L;var t=$(e),a=t.red,n=t.green,i=t.blue,r=t.alpha;return new L({red:k(a),green:k(n),blue:k(i),alpha:void 0===r?1:Number((k(r)/255).toFixed(2))})}function F(e){return Math.min(Math.max(parseInt(e),0),255)}function D(e){if(!e)return new L;e=N(e);var t=[e.hue/360,e.sat/100,e.lum/100,e.alpha],a=t[0],n=t[1],i=t[2],r=t[3],o=0,s=0,l=0;if(0===n&&(o=s=l=F(255*i)),0!==n){var c=i>=50?i+n-i*n:i*(1+n),u=2*i-c,d=function(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?u+6*(c-u)*e:e<.5?c:e<2/3?u+(c-u)*(2/3-e)*6:u};o=F(255*d(a+1/3)),s=F(255*d(a)),l=F(255*d(a-1/3))}return new L({red:o,green:s,blue:l,alpha:r})}function z(e){return e?B(q(e)):new P}function W(e){return e?I(D(e)):new j}function G(e){var t=w(e);return"hex"===t?q(e):"hsl"===t?D(e):"rgb"===t&&"string"===typeof e?E(e):"rgb"===t&&"object"===h(e)?e:new L}function J(e){var t=w(e);return"hex"===t?z(e):"rgb"===t?B(e):"hsl"===t&&"string"===typeof e?N(e):"hsl"===t&&"object"===h(e)?e:new P}function Q(e){var t=w(e);return"rgb"===t?I(e):"hsl"===t?W(e):"hex"===t&&"string"===typeof e?$(e):"hex"===t&&"object"===h(e)?e:new j}function X(){return"rgb(".concat(T(0,255),", ").concat(T(0,255),", ").concat(T(0,255),")")}function Z(e,t,a){e=G(e),t=G(t);var n=Math.floor(O(e.red,t.red,a)),i=Math.floor(O(e.green,t.green,a)),r=Math.floor(O(e.blue,t.blue,a)),o=O(e.alpha,t.alpha,a);return new L({red:n,green:i,blue:r,alpha:o})}function Y(e,t){for(var a=[],n=0;n<e;n++){var i="function"===typeof t?t():t;a.push(i)}return a}function K(e,t){var a;return void 0===t&&(t=!1),function(){var n=arguments,i=function(){a=null,t||e.apply(void 0,n)},r=t&&!a;window.cancelAnimationFrame(a),a=window.requestAnimationFrame(i),r&&e.apply(void 0,arguments)}}function ee(e,t){while(e!==document&&null!==e){if(e===t)return!0;e=e.parentNode}return!1}function te(e,t){return e.reduce((function(e,a){return Math.abs(a-t)<Math.abs(e-t)?a:e}))}function ae(e,t){return{r:Math.sqrt(e*e+t*t),theta:180*Math.atan2(t,e)/Math.PI}}function ne(e,t){return{x:e*Math.cos(t*Math.PI*2),y:e*Math.sin(t*Math.PI*2)}}function ie(e,t){return function(e){var a=-1!==t.indexOf(e);return a}}function re(e){if(e.type.match(/^touch/i)){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}return e.type.match(/^mouse/i)?{x:e.clientX,y:e.clientY}:{x:0,y:0}}var oe={name:"VerteSlider",props:{gradient:Array,classes:Array,colorCode:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1},label:{type:Boolean,default:!1},trackSlide:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:255},step:{type:Number,default:1},value:{type:Number,default:0},handlesValue:{type:Array,default:function(){return[0]}}},data:function(){return{fill:{translate:0,scale:0},multiple:!1,currentValue:0,handles:[],values:[]}},watch:{gradient:function(e){this.initGradient(e),this.reloadHandlesColor()},values:function(){this.multiple=this.values.length>1,this.fill=!this.multiple&&(this.fill||{})},value:function(e,t){e!==t&&e!==this.currentValue&&this.updateValue(this.value,!0)}},methods:{init:function(){var e=this;this.$emitInputEvent=K((function(){e.$emit("input",e.currentValue)})),this.multiple=this.values.length>1,this.values=this.handlesValue,this.handles=this.handlesValue.map((function(e,t){return{value:e,position:0,color:"#fff"}})),1===this.values.length&&(this.values[0]=Number(this.value)),this.values.sort(),this.initElements(),this.gradient&&this.initGradient(this.gradient),this.initEvents(),this.values.forEach((function(t,a){e.activeHandle=a,e.updateValue(t,!0)}))},initElements:function(){var e;this.wrapper=this.$refs.wrapper,this.track=this.$refs.track,this.fill=this.$refs.fill,this.wrapper.classList.toggle("slider--editable",this.editable),this.wrapper.classList.toggle("slider--reverse",this.reverse),this.classes&&(e=this.wrapper.classList).add.apply(e,this.classes)},initGradient:function(e){e.length>1?this.fill.style.backgroundImage="linear-gradient(90deg, "+e+")":(this.fill.style.backgroundImage="",this.fill.style.backgroundColor=e[0],this.handles.forEach((function(t){t.style.color=e[0]})))},handleResize:function(){this.updateWidth(),this.updateValue(this.currentValue,!0)},initEvents:function(){window.addEventListener("resize",this.handleResize)},select:function(e){if(e.preventDefault(),e.stopPropagation(),2!==e.buttons){this.updateWidth(),this.track.classList.add("slider--dragging"),this.ticking=!1;var t=this.getStepValue(e);if(this.multiple){var a=te(this.values,t);this.activeHandle=this.values.indexOf(a)}this.updateValue(t),this.tempDrag=this.dragging.bind(this),this.tempRelease=this.release.bind(this),document.addEventListener("mousemove",this.tempDrag),document.addEventListener("touchmove",this.tempDrag),document.addEventListener("touchend",this.tempRelease),document.addEventListener("mouseup",this.tempRelease)}},dragging:function(e){var t=this,a=this.getStepValue(e);this.ticking||(window.requestAnimationFrame((function(){t.updateValue(a),t.ticking=!1})),this.ticking=!0)},release:function(){this.track.classList.remove("slider--dragging"),document.removeEventListener("mousemove",this.tempDrag),document.removeEventListener("touchmove",this.tempDrag),document.removeEventListener("mouseup",this.tempRelease),document.removeEventListener("touchend",this.tempRelease)},getStepValue:function(e){var t=re(e),a=t.x,n=a-this.currentX,i=parseInt(n/this.stepWidth+.5,10),r=i*this.step+this.min;return this.decimalsCount?Number(r.toFixed(this.decimalsCount)):r},updateWidth:function(){var e=this.track.getBoundingClientRect();this.currentX=e.left,this.width=e.width,this.stepWidth=this.width/(this.max-this.min)*this.step},getPositionPercentage:function(e){return((e-this.min)/(this.max-this.min)).toFixed(2)},normalizeValue:function(e){if(isNaN(Number(e)))return this.value;if(this.multiple){var t=this.values[this.activeHandle-1]||this.min,a=this.values[this.activeHandle+1]||this.max;e=Math.min(Math.max(Number(e),t),a)}return Math.min(Math.max(Number(e),this.min),this.max)},addHandle:function(e){var t=te(this.values,e),a=this.values.indexOf(t),n=this.values[a],i=n<=e?a+1:a;this.handles.splice(i,0,{value:e,position:0,color:"#fff"}),this.values.splice(i,0,e),this.activeHandle=i,this.currentValue=null,this.updateValue(e)},removeHandle:function(e){this.handles.splice(e,1),this.values.splice(e,1),this.activeHandle=0===e?e+1:e-1},getHandleColor:function(e){for(var t=this,a=this.gradient.length-1,n=e,i=1;i<=a;i++)if(n>=(i-1)/a&&n<=i/a){var r=(n-(i-1)/a)/(1/a);return Z(t.gradient[i-1],t.gradient[i],r)}return"rgb(0, 0, 0)"},reloadHandlesColor:function(){var e=this;this.handles.forEach((function(t,a){var n=e.getPositionPercentage(t.value),i=e.getHandleColor(n);e.handles[a].color=i.toString()}))},updateValue:function(e,t){var a=this;void 0===t&&(t=!1),window.requestAnimationFrame((function(){var n=a.normalizeValue(e),i=a.getPositionPercentage(n);if(a.fill&&(a.fill.translate=i*a.width,a.fill.scale=1-i),a.values[a.activeHandle]=n,a.handles[a.activeHandle].value=n,a.handles[a.activeHandle].position=i*a.width,a.currentValue=n,a.$refs.input.value=a.currentValue,a.gradient){var r=a.getHandleColor(i);a.handles[a.activeHandle].color=r.toString(),a.colorCode&&(a.currentValue=r)}t||a.$emitInputEvent()}))}},created:function(){var e=this.step.toString().split(".")[1];this.currentValue=this.value,this.decimalsCount=e?e.length:0},mounted:function(){var e=this;this.init(),this.$nextTick((function(){e.updateWidth(),e.updateValue(void 0,!0)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},se=oe,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"wrapper",staticClass:"slider"},[a("div",e._g({ref:"track",staticClass:"slider__track"},e.trackSlide?{mousedown:e.select,touchstart:e.select}:{}),[a("div",{ref:"fill",staticClass:"slider__fill"}),e._l(e.handles,(function(t){return a("div",{staticClass:"slider__handle",style:"transform: translate("+t.position+"px, 0); background-color: "+t.color+";",on:{mousedown:e.select,touchstart:e.select}},[e.label?a("div",{staticClass:"slider__label"},[e._v(e._s(t.value))]):e._e()])}))],2),a("input",{directives:[{name:"show",rawName:"v-show",value:e.editable,expression:"editable"}],ref:"input",staticClass:"slider__input",attrs:{type:e.colorCode?"text":"number"},on:{change:function(t){e.updateValue(t.target.value)}}})])},ce=[];le._withStripped=!0;var ue=void 0,de=void 0,he=void 0,pe=!1;function me(e,t,a,n,i,r,o,s){var l=("function"===typeof a?a.options:a)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Slider.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=n,l}function fe(){var e=document.head||document.getElementsByTagName("head")[0],t=fe.styles||(fe.styles={}),a="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,i){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){var r=a?i.media||"default":n,o=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!o.ids.includes(n)){var s=i.source,l=o.ids.length;if(o.ids.push(n),a&&(o.element=o.element||document.querySelector("style[data-group="+r+"]")),!o.element){var c=o.element=document.createElement("style");c.type="text/css",i.media&&c.setAttribute("media",i.media),a&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(a&&(l=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",l+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=o.element.childNodes;d[l]&&o.element.removeChild(d[l]),d.length?o.element.insertBefore(u,d[l]):o.element.appendChild(u)}}}}}var ge=me({render:le,staticRenderFns:ce},ue,se,de,pe,he,fe,void 0),ve={name:"VertePicker",components:{Slider:ge},props:{mode:{type:String,default:"square"},edge:{type:Number,default:250},diameter:{type:Number,default:180},satSlider:{type:Boolean,default:!0},alpha:{type:Number,default:1},value:{type:String,default:"#fff"}},data:function(){return{currentHue:0,currentSat:0,currentColor:"",cursor:{},preventUpdating:!1,preventEcho:!1}},watch:{value:function(e){this.preventUpdating?this.preventUpdating=!1:this.handleValue(e,!0)},currentSat:function(){this.updateWheelColors(),this.updateColor()},currentHue:function(){this.updateSquareColors(),this.updateColor()}},methods:{initSquare:function(){var e=this.edge;this.$refs.canvas.width=e,this.$refs.canvas.height=e-100,this.ctx=this.$refs.canvas.getContext("2d"),this.updateSquareColors()},initWheel:function(){this.$refs.canvas.width=this.diameter,this.$refs.canvas.height=this.diameter,this.ctx=this.$refs.canvas.getContext("2d"),this.circle={path:new Path2D,xCords:this.diameter/2,yCords:this.diameter/2,radius:this.diameter/2},this.circle.path.moveTo(this.circle.xCords,this.circle.yCords),this.circle.path.arc(this.circle.xCords,this.circle.yCords,this.circle.radius,0,360),this.circle.path.closePath(),this.updateWheelColors()},handleValue:function(e,t){void 0===t&&(t=!1);var a=this.pickerRect,n=a.width,i=a.height;if(this.currentColor=J(e),this.preventEcho=!0,"wheel"===this.mode){var r=(100-this.currentColor.lum)*(this.diameter/200),o=this.diameter/2,s=ne(r,this.currentColor.hue/360);this.cursor={x:s.x+o,y:s.y+o},this.currentSat=this.currentColor.sat}if("square"===this.mode){var l=this.currentColor.sat/100*n,c=(100-this.currentColor.lum)/100*i;this.cursor={x:l,y:c},this.currentHue=this.currentColor.hue}},updateCursorPosition:function(e){var t=e.x,a=e.y,n=this.pickerRect,i=n.left,r=n.top,o=n.width,s=n.height,l={x:Math.min(Math.max(t-i,0),o),y:Math.min(Math.max(a-r,0),s)};("wheel"!==this.mode||this.ctx.isPointInPath(this.circle.path,l.x,l.y))&&(this.cursor=l,this.updateColor())},updateColor:function(e){void 0===e&&(e=!1),this.preventEcho?this.preventEcho=!1:(this.currentColor=this.getCanvasColor(),this.preventUpdating=!0,this.$emit("change",this.currentColor),this.$emit("input",this.currentColor))},updateWheelColors:function(){var e=this;if(this.circle){var t=this.pickerRect,a=t.width,n=t.height,i=this.circle.xCords,r=this.circle.yCords,o=this.circle.radius,s=this.satSlider?this.currentSat:100;this.ctx.clearRect(0,0,a,n);for(var l=0;l<360;l+=1){var c=e.ctx.createRadialGradient(i,r,0,i,r,o),u=(l-2)*Math.PI/180,d=(l+2)*Math.PI/180;e.ctx.beginPath(),e.ctx.moveTo(i,r),e.ctx.arc(i,r,o,u,d),e.ctx.closePath(),c.addColorStop(0,"hsl("+l+", "+s+"%, 100%)"),c.addColorStop(.5,"hsl("+l+", "+s+"%, 50%)"),c.addColorStop(1,"hsl("+l+", "+s+"%, 0%)"),e.ctx.fillStyle=c,e.ctx.fill()}}},updateSquareColors:function(){var e=this.pickerRect,t=e.width,a=e.height;this.ctx.clearRect(0,0,t,a),this.ctx.fillStyle="hsl("+this.currentHue+", 100%, 50%)",this.ctx.fillRect(0,0,t,a);var n=this.ctx.createLinearGradient(0,0,t,0);n.addColorStop(0,"hsl(0, 0%, 50%)"),n.addColorStop(1,"hsla(0, 0%, 50%, 0)"),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,t,a);var i=this.ctx.createLinearGradient(0,0,0,a);i.addColorStop(0,"hsl(0, 0%, 100%)"),i.addColorStop(.5,"hsla(0, 0%, 100%, 0)"),i.addColorStop(.5,"hsla(0, 0%, 0%, 0)"),i.addColorStop(1,"hsl(0, 0%, 0%) "),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,t,a)},getCanvasColor:function(){var e=this.cursor,t=e.x,a=e.y,n=0,i=0,r=0;if("wheel"===this.mode){var o=this.diameter/2,s=t-o,l=-1*(a-o),c=ae(s,l),u=c.r,d=c.theta;i=100*(o-u)/o,r=~Math.sign(d)?360-d:-d,n=this.currentSat}if("square"===this.mode){var h=this.pickerRect,p=h.width,m=h.height;n=100*t/p,i=100-100*a/m,r=this.currentHue}return new A.HslColor({alpha:this.alpha,hue:Math.round(r),sat:Math.round(n),lum:Math.round(i)})},handleSelect:function(e){var t=this;e.preventDefault(),this.pickerRect=this.$refs.canvas.getBoundingClientRect(),this.updateCursorPosition(re(e));var a=function(e){window.requestAnimationFrame((function(){t.updateCursorPosition(re(e))}))},n=function(){document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)};document.addEventListener("mousemove",a),document.addEventListener("touchmove",a),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)}},mounted:function(){var e=this;this.pickerRect=this.$refs.canvas.getBoundingClientRect(),"wheel"===this.mode&&this.initWheel(),"square"===this.mode&&this.initSquare(),this.$nextTick((function(){e.handleValue(e.value)}))}},be=ve,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"picker",staticClass:"verte-picker",class:"verte-picker--"+e.mode},[a("div",{ref:"origin",staticClass:"verte-picker__origin"},[a("canvas",{ref:"canvas",staticClass:"verte-picker__canvas",on:{mousedown:e.handleSelect,touchstart:e.handleSelect}}),a("div",{ref:"cursor",staticClass:"verte-picker__cursor",style:"transform: translate3d("+e.cursor.x+"px, "+e.cursor.y+"px, 0)"})]),"square"===e.mode?a("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],editable:!1,max:360},model:{value:e.currentHue,callback:function(t){e.currentHue=t},expression:"currentHue"}}):e._e(),"wheel"===e.mode?a("slider",{staticClass:"verte-picker__slider",attrs:{gradient:["hsl("+e.currentColor.hue+",0%,"+e.currentColor.lum+"%)","hsl("+e.currentColor.hue+",100%,"+e.currentColor.lum+"%)"],editable:!1,max:100},model:{value:e.currentSat,callback:function(t){e.currentSat=t},expression:"currentSat"}}):e._e()],1)},Ce=[];ye._withStripped=!0;var xe=void 0,Se=void 0,we=void 0,ke=!1;function _e(e,t,a,n,i,r,o,s){var l=("function"===typeof a?a.options:a)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Picker.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=n,l}function Te(){var e=document.head||document.getElementsByTagName("head")[0],t=Te.styles||(Te.styles={}),a="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,i){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){var r=a?i.media||"default":n,o=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!o.ids.includes(n)){var s=i.source,l=o.ids.length;if(o.ids.push(n),a&&(o.element=o.element||document.querySelector("style[data-group="+r+"]")),!o.element){var c=o.element=document.createElement("style");c.type="text/css",i.media&&c.setAttribute("media",i.media),a&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(a&&(l=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",l+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=o.element.childNodes;d[l]&&o.element.removeChild(d[l]),d.length?o.element.insertBefore(u,d[l]):o.element.appendChild(u)}}}}}var Oe,Me,Ve=_e({render:ye,staticRenderFns:Ce},xe,be,Se,ke,we,Te,void 0),Le=6;function Pe(e,t){if(Me)return Me;t=t||{};var a=t.recentColors,n=t.onRecentColorsChange;return Oe=e,Me=new Oe({data:function(){return{recentColors:a||Y(6,X)}},methods:{addRecentColor:function(e){this.recentColors.includes(e)||(this.recentColors.length>=Le&&this.recentColors.pop(),this.recentColors.unshift(e),n&&n(this.recentColors))}}}),Me}var je={name:"Verte",components:{Picker:Ve,Slider:ge},props:{picker:{type:String,default:"square",validator:ie("picker",["wheel","square"])},value:{type:String,default:"#000"},model:{type:String,default:"hsl",validator:ie("model",["rgb","hex","hsl"])},display:{type:String,default:"picker",validator:ie("display",["picker","widget"])},menuPosition:{type:String,default:"bottom",validator:ie("menuPosition",["top","bottom","left","right","center"])},showHistory:{type:Boolean,default:!0},colorHistory:{type:Array,default:null},enableAlpha:{type:Boolean,default:!0},rgbSliders:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},data:function(){return{isMenuActive:!0,isLoading:!0,rgb:G("#000"),hex:Q("#000"),hsl:J("#000"),delta:{x:0,y:0},currentModel:"",internalColorHistory:[]}},computed:{$_verteStore:function(){return Pe()},historySource:function(){return this.colorHistory?this.internalColorHistory:this.$_verteStore.recentColors},currentColor:{get:function(){return this[this.model],this[this.model].toString()},set:function(e){this.selectColor(e)}},alpha:{get:function(){return this[this.model]?isNaN(this[this.model].alpha)?1:this[this.model].alpha:1},set:function(e){this[this.model].alpha=e,this.selectColor(this[this.model])}},menuOnly:function(){return"widget"===this.display}},watch:{value:function(e,t){e!==t&&e!==this.currentColor&&this.selectColor(e)},rgb:{handler:function(e){this.hex=Q(e.toString()),this.$emit("input",this.currentColor)},deep:!0},colorHistory:function(e){this.internalColorHistory!==e&&(this.internalColorHistory=[].concat(e))}},beforeCreate:function(){Pe(this.$options._base)},install:function(e,t){Pe(e,t),e.component("Verte",this)},created:function(){this.colorHistory&&(this.internalColorHistory=[].concat(this.colorHistory)),this.selectColor(this.value||"#000",!0),this.currentModel=this.model},mounted:function(){var e=this;this.$nextTick((function(){e.isLoading=!1,e.menuOnly||(e.isMenuActive=!1)}))},methods:{selectColor:function(e,t){void 0===t&&(t=!1),H(e)&&(this.rgb=G(e),this.hex=Q(e),this.hsl=J(e),t||this.$emit("input",this.currentColor))},switchModel:function(){var e=["hex","rgb","hsl"],t=e.indexOf(this.currentModel);this.currentModel=e[t+1]||e[0]},handleMenuDrag:function(e){var t=this;if(2!==e.button){e.preventDefault();var a=Object.assign({},this.delta),n=re(e),i=function(e){window.requestAnimationFrame((function(){var i=re(e);t.delta.x=a.x+i.x-n.x,t.delta.y=a.y+i.y-n.y}))},r=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",i),document.removeEventListener("touchup",r)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",r),document.addEventListener("touchmove",i),document.addEventListener("touchup",r)}},submit:function(){this.$emit("beforeSubmit",this.currentColor),this.addColorToHistory(this.currentColor),this.$emit("input",this.currentColor),this.$emit("submit",this.currentColor)},addColorToHistory:function(e){if(this.colorHistory)return this.internalColorHistory.length>=Le&&this.internalColorHistory.pop(),this.internalColorHistory.unshift(e),void this.$emit("update:colorHistory",this.internalColorHistory);this.$_verteStore.addRecentColor(this.currentColor)},inputChanged:function(e,t){var a=e.target;if("hex"!==this.currentModel){var n=Math.min(Math.max(a.value,a.min),a.max);this[this.currentModel][t]=n,this.selectColor(this[this.currentModel])}else this.selectColor(a.value)},toggleMenu:function(){this.isMenuActive?this.closeMenu():this.openMenu()},closeMenu:function(){this.isMenuActive=!1,document.removeEventListener("mousedown",this.closeCallback),this.$emit("close",this.currentColor)},openMenu:function(){var e=this;this.isMenuActive=!0,this.closeCallback=function(t){ee(t.target,e.$refs.menu)||ee(t.target,e.$refs.guide)||e.closeMenu()},document.addEventListener("mousedown",this.closeCallback)}}},Ae=je,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"verte",class:{"verte--loading":e.isLoading}},[e.menuOnly?e._e():a("button",{ref:"guide",staticClass:"verte__guide",style:"color: "+e.currentColor+"; fill: "+e.currentColor+";",attrs:{type:"button"},on:{click:e.toggleMenu}},[e._t("default",[a("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[a("pattern",{attrs:{id:"checkerboard",width:"6",height:"6",patternUnits:"userSpaceOnUse",fill:"FFF"}},[a("rect",{attrs:{fill:"#7080707f",x:"0",width:"3",height:"3",y:"0"}}),a("rect",{attrs:{fill:"#7080707f",x:"3",width:"3",height:"3",y:"3"}})]),a("circle",{attrs:{cx:"12",cy:"12",r:"12",fill:"url(#checkerboard)"}}),a("circle",{attrs:{cx:"12",cy:"12",r:"12"}})])])],2),a("div",{staticClass:"verte__menu-origin",class:["verte__menu-origin--"+e.menuPosition,{"verte__menu-origin--static":e.menuOnly,"verte__menu-origin--active":e.isMenuActive}]},[a("div",{ref:"menu",staticClass:"verte__menu",style:"transform: translate("+e.delta.x+"px, "+e.delta.y+"px)",attrs:{tabindex:"-1"}},[e.menuOnly?e._e():a("button",{staticClass:"verte__close",attrs:{type:"button"},on:{click:e.closeMenu}},[a("svg",{staticClass:"verte__icon verte__icon--small",attrs:{viewBox:"0 0 24 24"}},[a("title",[e._v("Close Icon")]),a("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])]),e.draggable&&!e.menuOnly?a("div",{staticClass:"verte__draggable",on:{mousedown:e.handleMenuDrag,touchstart:e.handleMenuDrag}}):e._e(),a("Picker",{attrs:{mode:e.picker,alpha:e.alpha},model:{value:e.currentColor,callback:function(t){e.currentColor=t},expression:"currentColor"}}),a("div",{staticClass:"verte__controller"},[e.enableAlpha?a("Slider",{attrs:{gradient:["rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 0)","rgba("+e.rgb.red+", "+e.rgb.green+", "+e.rgb.blue+", 1)"],min:0,max:1,step:.01,editable:!1},model:{value:e.alpha,callback:function(t){e.alpha=t},expression:"alpha"}}):e._e(),e.rgbSliders?[a("Slider",{attrs:{gradient:["rgb(0,"+e.rgb.green+","+e.rgb.blue+")","rgb(255,"+e.rgb.green+","+e.rgb.blue+")"]},model:{value:e.rgb.red,callback:function(t){e.$set(e.rgb,"red",t)},expression:"rgb.red"}}),a("Slider",{attrs:{gradient:["rgb("+e.rgb.red+",0,"+e.rgb.blue+")","rgb("+e.rgb.red+",255,"+e.rgb.blue+")"]},model:{value:e.rgb.green,callback:function(t){e.$set(e.rgb,"green",t)},expression:"rgb.green"}}),a("Slider",{attrs:{gradient:["rgb("+e.rgb.red+","+e.rgb.green+",0)","rgb("+e.rgb.red+","+e.rgb.green+",255)"]},model:{value:e.rgb.blue,callback:function(t){e.$set(e.rgb,"blue",t)},expression:"rgb.blue"}})]:e._e(),a("div",{staticClass:"verte__inputs"},[a("button",{staticClass:"verte__model",attrs:{type:"button"},on:{click:e.switchModel}},[e._v(e._s(e.currentModel))]),"hsl"===e.currentModel?[a("input",{staticClass:"verte__input",attrs:{type:"number",max:"360",min:"0"},domProps:{value:e.hsl.hue},on:{change:function(t){e.inputChanged(t,"hue")}}}),a("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.hsl.sat},on:{change:function(t){e.inputChanged(t,"sat")}}}),a("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.hsl.lum},on:{change:function(t){e.inputChanged(t,"lum")}}})]:e._e(),"rgb"===e.currentModel?[a("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.red},on:{change:function(t){e.inputChanged(t,"red")}}}),a("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.green},on:{change:function(t){e.inputChanged(t,"green")}}}),a("input",{staticClass:"verte__input",attrs:{type:"number",min:"0",max:"255"},domProps:{value:e.rgb.blue},on:{change:function(t){e.inputChanged(t,"blue")}}})]:e._e(),"hex"===e.currentModel?[a("input",{staticClass:"verte__input",attrs:{type:"text"},domProps:{value:e.hex},on:{change:function(t){e.inputChanged(t,"hex")}}})]:e._e(),a("button",{staticClass:"verte__submit",attrs:{type:"button"},on:{click:e.submit}},[a("title",[e._v("Submit Icon")]),a("svg",{staticClass:"verte__icon",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])],2),e.showHistory?a("div",{ref:"recent",staticClass:"verte__recent"},e._l(e.historySource,(function(t){return a("a",{staticClass:"verte__recent-color",style:"color: "+t,attrs:{role:"button",href:"#"},on:{click:function(a){a.preventDefault(),e.selectColor(t)}}})}))):e._e()],2)],1)])])},Ue=[];Ee._withStripped=!0;var $e=void 0,Ne=void 0,He=void 0,Re=!1;function Ie(e,t,a,n,i,r,o,s){var l=("function"===typeof a?a.options:a)||{};return l.__file="/mnt/c/Users/Abdelrahman/Projects/verte/src/components/Verte.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=n,l}function Be(){var e=document.head||document.getElementsByTagName("head")[0],t=Be.styles||(Be.styles={}),a="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(n,i){if(!document.querySelector('style[data-vue-ssr-id~="'+n+'"]')){var r=a?i.media||"default":n,o=t[r]||(t[r]={ids:[],parts:[],element:void 0});if(!o.ids.includes(n)){var s=i.source,l=o.ids.length;if(o.ids.push(n),a&&(o.element=o.element||document.querySelector("style[data-group="+r+"]")),!o.element){var c=o.element=document.createElement("style");c.type="text/css",i.media&&c.setAttribute("media",i.media),a&&(c.setAttribute("data-group",r),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(a&&(l=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",l+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var u=document.createTextNode(s),d=o.element.childNodes;d[l]&&o.element.removeChild(d[l]),d.length?o.element.insertBefore(u,d[l]):o.element.appendChild(u)}}}}}var qe=Ie({render:Ee,staticRenderFns:Ue},$e,Ae,Ne,Re,He,Be,void 0),Fe=qe,De=(a("4167"),a("12de"));function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ge={name:"ThemeSetting",mixins:[l["a"],l["b"]],components:{AttachmentSelectDrawer:u["a"],FooterToolBar:d["a"],Verte:Fe},data:function(){return{attachmentDrawerVisible:!1,selectedTheme:this.theme,themeConfiguration:[],themeSettings:[],settingLoading:!0,selectedField:"",wrapperCol:{xl:{span:12},lg:{span:12},sm:{span:24},xs:{span:24}},viewMode:!1,formColValue:12,clientHeight:document.documentElement.clientHeight}},model:{prop:"visible",event:"close"},props:{theme:{type:Object,required:!0},visible:{type:Boolean,required:!1,default:!0}},created:function(){this.loadSkeleton(),this.initData()},watch:{visible:function(e,t){e&&this.loadSkeleton()}},computed:We({},Object(c["c"])(["options"])),methods:{loadSkeleton:function(){var e=this;this.settingLoading=!0,setTimeout((function(){e.settingLoading=!1}),500)},initData:function(){var e=this;this.settingLoading=!0,De["a"].fetchConfiguration(this.selectedTheme.id).then((function(t){e.themeConfiguration=t.data.data,De["a"].fetchSettings(e.selectedTheme.id).then((function(t){e.themeSettings=t.data.data,setTimeout((function(){e.settingLoading=!1}),300)}))}))},handleSaveSettings:function(){var e=this;De["a"].saveSettings(this.selectedTheme.id,this.themeSettings).then((function(t){e.$message.success("保存成功！"),e.viewMode&&document.getElementById("themeViewIframe").contentWindow.location.reload(!0)}))},onClose:function(){this.$emit("close",!1)},handleShowSelectAttachment:function(e){this.selectedField=e,this.attachmentDrawerVisible=!0},handleSelectAttachment:function(e){this.$set(this.themeSettings,this.selectedField,encodeURI(e.path)),this.attachmentDrawerVisible=!1},toggleViewMode:function(){this.viewMode=!this.viewMode,this.viewMode?(this.formColValue=4,this.wrapperCol={xl:{span:24},lg:{span:24},sm:{span:24},xs:{span:24}}):(this.formColValue=12,this.wrapperCol={xl:{span:12},lg:{span:12},sm:{span:24},xs:{span:24}})}}},Je=Ge,Qe=a("9ca4"),Xe=Object(Qe["a"])(Je,r,o,!1,null,null,null),Ze=Xe.exports,Ye={components:{ThemeSetting:Ze},data:function(){return{themeLoading:!1,uploadThemeVisible:!1,uploadNewThemeVisible:!1,fetchButtonLoading:!1,themes:[],themeSettingVisible:!1,selectedTheme:{},fetchingUrl:null,uploadHandler:De["a"].upload,updateByUploadHandler:De["a"].updateByUpload,prepareUpdateTheme:{}}},computed:{sortedThemes:function(){var e=this.themes.slice(0);return e.sort((function(e,t){return t.activated-e.activated}))}},created:function(){this.loadThemes()},destroyed:function(){this.themeSettingVisible&&(this.themeSettingVisible=!1)},beforeRouteLeave:function(e,t,a){this.themeSettingVisible&&(this.themeSettingVisible=!1),a()},methods:{loadThemes:function(){var e=this;this.themeLoading=!0,De["a"].listAll().then((function(t){e.themes=t.data.data,e.themeLoading=!1}))},activeTheme:function(e){var t=this;De["a"].active(e).then((function(e){t.$message.success("设置成功！"),t.loadThemes()}))},handleUpdateTheme:function(e){var t=this,a=this.$message.loading("更新中...",0);De["a"].update(e).then((function(e){t.$message.success("更新成功！"),t.loadThemes()})).finally((function(){a()}))},handleDeleteTheme:function(e){var t=this;De["a"].delete(e).then((function(e){t.$message.success("删除成功！"),t.loadThemes()}))},handleUploadSuccess:function(){this.uploadThemeVisible&&(this.uploadThemeVisible=!1),this.uploadNewThemeVisible&&(this.uploadNewThemeVisible=!1),this.loadThemes()},handleEditClick:function(e){this.settingDrawer(e)},handleActivateClick:function(e){this.activeTheme(e.id)},handleFetching:function(){var e=this;this.fetchingUrl?(this.fetchButtonLoading=!0,De["a"].fetching(this.fetchingUrl).then((function(t){e.$message.success("拉取成功！"),e.uploadThemeVisible=!1,e.loadThemes()})).finally((function(){e.fetchButtonLoading=!1}))):this.$notification["error"]({message:"提示",description:"远程地址不能为空！"})},handleReload:function(){var e=this;De["a"].reload().then((function(t){e.loadThemes(),e.$message.success("刷新成功！")}))},handleShowUpdateNewThemeModal:function(e){this.prepareUpdateTheme=e,this.uploadNewThemeVisible=!0},handleShowThemeSetting:function(e){this.selectedTheme=e,this.themeSettingVisible=!0},handleConfirmDelete:function(e){var t=this;this.$confirm({title:"提示",maskClosable:!0,content:"确定删除【"+e.name+"】主题？",onOk:function(){t.handleDeleteTheme(e.id)},onCancel:function(){}})},handleConfirmUpdate:function(e){var t=this;this.$confirm({title:"提示",maskClosable:!0,content:"确定更新【"+e.name+"】主题？",onOk:function(){t.handleUpdateTheme(e.id)},onCancel:function(){}})},onThemeUploadClose:function(){this.uploadThemeVisible&&this.$refs.upload.handleClearFileList(),this.uploadNewThemeVisible&&this.$refs.updateByupload.handleClearFileList(),this.loadThemes()},onThemeSettingsClose:function(){this.themeSettingVisible=!1,this.selectedTheme={}}}},Ke=Ye,et=(a("241a"),Object(Qe["a"])(Ke,n,i,!1,null,null,null));t["default"]=et.exports},a41b:function(e,t,a){},a796:function(e,t,a){"use strict";a("616f"),a("f548"),a("cc57"),a("b449");var n=a("85ff"),i=a("82ae"),r=a.n(i),o=a("9efd"),s="/api/admin/attachments",l={query:function(e){return Object(o["a"])({url:s,params:e,method:"get"})},get:function(e){return Object(o["a"])({url:"".concat(s,"/").concat(e),method:"get"})},delete:function(e){return Object(o["a"])({url:"".concat(s,"/").concat(e),method:"delete"})},deleteInBatch:function(e){return Object(o["a"])({url:"".concat(s),method:"delete",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})},update:function(e,t){return Object(o["a"])({url:"".concat(s,"/").concat(e),method:"put",data:t})},getMediaTypes:function(){return Object(o["a"])({url:"".concat(s,"/media_types"),method:"get"})},getTypes:function(){return Object(o["a"])({url:"".concat(s,"/types"),method:"get"})}};l.CancelToken=r.a.CancelToken,l.isCancel=r.a.isCancel,l.upload=function(e,t,a,n,i,r){return r===l.type.QINIUOSS.type?l.ossQinUpload(e,t,a,i):r===l.type.TENCENTCOS.type?l.ossTenUpload(t,a,i):r===l.type.MINIO.type?l.ossMinioUpload(t,a,i):Object(o["a"])({url:"".concat(s,"/upload"),timeout:864e4,data:e,onUploadProgress:t,cancelToken:a,method:"post"})},l.uploads=function(e,t,a){return Object(o["a"])({url:"".concat(s,"/uploads"),timeout:864e4,data:e,onUploadProgress:t,cancelToken:a,method:"post"})},l.ossQinUpload=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var c,u,d,h,p,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({url:"".concat(s,"/token"),method:"post"});case 2:return c=e.sent,u=c.data.data.token,d=c.data.data.basePath,h=i.name,t.append("name",h),t.append("key",d+h),t.append("token",u),p=r.a.create(),e.next=12,p({url:"http://upload-z2.qiniup.com",data:t,method:"post",onUploadProgress:a,cancelToken:n});case 12:return m=e.sent,m.data.suffix=m.data.suffix?m.data.suffix.replace(".",""):m.data.suffix,e.abrupt("return",l.saveUpload(m.data));case 15:case"end":return e.stop()}}),e)})));return function(t,a,n,i){return e.apply(this,arguments)}}(),l.ossMinioUpload=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,c,u,d,h,p,m,f,g,v,b,y,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({url:"".concat(s,"/token"),method:"post"});case 2:return i=e.sent,c=n.name,u=i.data.data.basePath,d=i.data.data.host,h=new FormData,p=u+c,h.append("key",p),h.append("policy",i.data.data["policy"]),h.append("x-amz-algorithm",i.data.data["x-amz-algorithm"]),h.append("x-amz-credential",i.data.data["x-amz-credential"]),h.append("x-amz-date",i.data.data["x-amz-date"]),h.append("x-amz-signature",i.data.data["x-amz-signature"]),h.append("file",n),m=r.a.create(),e.next=18,m({url:d,data:h,method:"post",onUploadProgress:t,cancelToken:a,headers:{"Content-Type":"multipart/form-data"}});case 18:if(f=e.sent,g=c.lastIndexOf("."),v="png",g>0&&(v=c.substr(g+1)),b=d.endsWith("/")?d+p:d+"/"+p,y=n.type.indexOf("image")>0?b:"",204!==f.status){e.next=29;break}return C={filename:c,filePath:b,key:p,thumbPath:y,suffix:v,mediaType:n.type,size:n.size,width:0,height:0},e.abrupt("return",l.saveUpload(C));case 29:return e.abrupt("return",new Promise(f.data));case 30:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),l.ossTenUpload=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,c,u,d,h,p,m,f,g,v,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({url:"".concat(s,"/token"),method:"post"});case 2:return i=e.sent,c=n.name,u=i.data.data.basePath,d=i.data.data.host,h=new FormData,p=u+c,h.append("key",p),h.append("policy",i.data.data["policy"]),h.append("q-sign-algorithm",i.data.data["q-sign-algorithm"]),h.append("q-ak",i.data.data["q-ak"]),h.append("q-key-time",i.data.data["q-key-time"]),h.append("q-signature",i.data.data["q-signature"]),h.append("file",n),m=r.a.create(),e.next=18,m({url:d,data:h,method:"post",onUploadProgress:t,cancelToken:a,headers:{"Content-Type":"multipart/form-data"}});case 18:if(f=e.sent,g=c.lastIndexOf("."),v="png",g>0&&(v=c.substr(g+1)),204!==f.status){e.next=27;break}return b={filename:c,filePath:d+p,key:p,thumbPath:"",suffix:v,mediaType:n.type,size:n.size,width:0,height:0},e.abrupt("return",l.saveUpload(b));case 27:return e.abrupt("return",new Promise(f.data));case 28:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),l.saveUpload=function(e){var t=new FormData;for(var a in"number"!==typeof e.width&&(e.width=0),"number"!==typeof e.height&&(e.height=0),e)t.append(a,e[a]);return Object(o["a"])({url:"".concat(s,"/save"),data:t,method:"post"})},l.type={LOCAL:{type:"LOCAL",text:"本地"},SMMS:{type:"SMMS",text:"SM.MS"},UPOSS:{type:"UPOSS",text:"又拍云"},QINIUOSS:{type:"QINIUOSS",text:"七牛云"},ALIOSS:{type:"ALIOSS",text:"阿里云"},BAIDUBOS:{type:"BAIDUBOS",text:"百度云"},TENCENTCOS:{type:"TENCENTCOS",text:"腾讯云"},HUAWEIOBS:{type:"HUAWEIOBS",text:"华为云"},MINIO:{type:"MINIO",text:"MINIO"}},t["a"]=l}}]);